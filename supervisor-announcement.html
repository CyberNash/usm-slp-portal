<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Announcements - USM SLP</title>
    <script src="js/config.js"></script>
    <link rel="stylesheet" href="css/Dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
</head>
<body>
    <header class="navbar">
        <div class="container">
            <a href="supervisor-dashboard.html" class="navbar-brand">
                <img src="assets/graduation.png" class="navbar-logo">
                <span>USM SLP | Announcements</span>
            </a>
            <nav class="navbar-links">
                <span id="welcome-message"></span>
                <a href="supervisor-dashboard.html" class="nav-button"><i class="fas fa-arrow-left"></i> Back to Dashboard</a>
            </nav>
        </div>
    </header>

    <main class="container-fluid" style="padding-top:30px;">
        <!-- Announcements Card (Moved from the main dashboard) -->
        <div class="card">
            <div class="card-header">
                <span><i class="fas fa-bullhorn"></i> Announcements</span>
                <button class="btn-add-new" id="add-announcement-btn"><i class="fas fa-plus"></i> Add New</button>
            </div>
            <div class="card-content" id="announcements-list">
                <!-- Announcements will be loaded here by JavaScript -->
            </div>
        </div>
    </main>

    <!-- Modals for Announcements -->
    <div id="modal-backdrop" class="modal-backdrop" style="display: none;">
        <!-- Add New Announcement Modal -->
        <div id="add-announcement-modal" class="modal-content" style="display: none;">
            <span class="close-btn">&times;</span>
            <h2 class="modal-header">New Announcement</h2>
            <form id="announcement-form">
                <div class="form-group"><label for="add-ann-title">Title</label><input type="text" id="add-ann-title" required></div>
                <div class="form-group"><label for="add-ann-category">Category</label><input type="text" id="add-ann-category" placeholder="e.g., Event" required></div>
                <div class="form-group"><label for="add-ann-content">Content</label><textarea id="add-ann-content" rows="4" required></textarea></div>
                <button type="submit" class="btn-gold">Post Announcement</button>
            </form>
        </div>
        
        <!-- Edit Announcement Modal -->
        <div id="edit-announcement-modal" class="modal-content" style="display: none;">
            <span class="close-btn">&times;</span>
            <h2 class="modal-header">Edit Announcement</h2>
            <form id="edit-announcement-form">
                <input type="hidden" id="edit-ann-id">
                <div class="form-group"><label for="edit-ann-title">Title</label><input type="text" id="edit-ann-title" required></div>
                <div class="form-group"><label for="edit-ann-category">Category</label><input type="text" id="edit-ann-category" required></div>
                <div class="form-group"><label for="edit-ann-content">Content</label><textarea id="edit-ann-content" rows="4" required></textarea></div>
                <div class="modal-footer">
                  <button type="submit" class="btn-gold">Save Changes</button>
                  <button type="button" id="delete-announcement-btn" class="btn-delete"><i class="fas fa-trash-alt"></i> Delete</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Link to the NEW dedicated JavaScript file -->
    <script src="js/supervisor-announcements.js"></script>
</body>
</html>